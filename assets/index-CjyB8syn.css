*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Arial,sans-serif;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;background:#000;color:#fff;overflow:hidden}.screen{display:none;width:100vw;height:100vh;position:fixed;top:0;left:0}.screen.active{display:flex}#auth-screen{justify-content:center;align-items:center;background:#000;position:relative}.auth-container{text-align:center;position:relative;z-index:1}.auth-title{font-size:3rem;margin-bottom:3rem;color:#fff;font-weight:300;letter-spacing:-1px}.auth-card{background:#1a1a1a;border:1px solid #333333;border-radius:8px;padding:3rem 2.5rem;min-width:450px;box-shadow:0 4px 24px #00000080}.auth-row{display:flex;flex-direction:column;gap:1rem;margin-bottom:1.5rem}.auth-input{width:100%;padding:1rem 1.25rem;background:#0a0a0a;border:1px solid #333333;border-radius:6px;color:#fff;font-size:1rem;font-weight:400;transition:all .2s ease}.auth-input:focus{outline:none;border-color:#1de9b6;background:#1a1a1a;box-shadow:0 0 0 3px #1de9b633}.auth-input::placeholder{color:#666}.auth-btn{width:100%;padding:1rem 2rem;background:#1a1a1a;color:#fff;border:1px solid #333333;border-radius:6px;font-size:.95rem;font-weight:500;cursor:pointer;transition:all .2s ease}.auth-btn:hover{background:#2a2a2a;border-color:#444}.auth-btn:active{transform:scale(.98)}.auth-btn-primary{background:#1de9b6;color:#fff;border-color:#1de9b6}.auth-btn-primary:hover{background:#00c896;border-color:#00c896}.error-message{color:#f44336;margin-top:1rem;font-size:.875rem;min-height:20px;font-weight:400}#mandala-screen{justify-content:center;align-items:center;background:#000;position:relative}.mandala-container{text-align:center;position:relative;z-index:1}.mandala-title{font-size:2rem;margin-bottom:2rem;color:#fff;font-weight:300;letter-spacing:-.5px}.mandala-workspace{display:flex;gap:3rem;align-items:center}.canvas-container{position:relative;background:#1a1a1a;padding:2rem;border:1px solid #333333;border-radius:50%;box-shadow:0 4px 24px #00000080}#mandala-canvas{border:1px solid #333333;border-radius:50%;background:#0a0a0a;cursor:crosshair;display:block;width:500px;height:500px;aspect-ratio:1 / 1;object-fit:contain;overflow:hidden}.mandala-controls{display:flex;flex-direction:column;gap:1.5rem;align-items:stretch;width:250px}.color-palette{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;padding:1.5rem;background:#1a1a1a;border:1px solid #333333;border-radius:8px}.color-swatch{width:50px;height:50px;border-radius:50%;cursor:pointer;border:2px solid transparent;transition:all .2s ease}.color-swatch:hover{transform:scale(1.1)}.color-swatch.selected{border-color:#1de9b6;transform:scale(1.15);box-shadow:0 0 0 3px #1de9b64d}.symmetry-toggle{display:flex;align-items:center;gap:.75rem;padding:1rem;background:#1a1a1a;border:1px solid #333333;border-radius:6px;cursor:pointer;transition:all .2s ease;font-weight:400;color:#fff}.symmetry-toggle:hover{background:#2a2a2a}.symmetry-toggle input[type=checkbox]{width:20px;height:20px;cursor:pointer;accent-color:#1DE9B6}.btn-complete{padding:1rem;background:#1de9b6;color:#fff;border:1px solid #1DE9B6;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s ease}.btn-complete:hover{background:#00c896;border-color:#00c896}.btn-complete:active{transform:scale(.98)}#map-screen{flex-direction:column;background:#000;position:relative}.map-nav-bar{display:flex;justify-content:flex-start;padding:1.5rem 2rem;background:#000;border-bottom:1px solid rgba(255,255,255,.08);position:relative;z-index:10;gap:1rem}.nav-btn{padding:.85rem 1.8rem;background:#1a1a1acc;color:#fff;border:1px solid rgba(255,255,255,.1);border-radius:8px;font-size:.9rem;font-weight:500;letter-spacing:.3px;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);position:relative;overflow:hidden}.nav-btn:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#1de9b600,#1de9b61a);opacity:0;transition:opacity .3s}.nav-btn:hover:before{opacity:1}.nav-btn.memory-btn{margin-left:0}.nav-btn:last-child{margin-left:auto}.nav-btn:hover{background:#1de9b626;border-color:#1de9b64d;box-shadow:0 4px 12px #1de9b633;transform:translateY(-1px)}.nav-btn:active{transform:translateY(0) scale(.98)}#map-canvas-container{flex:1;position:relative;overflow:hidden;background:#000}#map-canvas{width:100%;height:100%;display:block;background:#000}.speech-bubble{position:absolute;min-width:280px;max-width:400px;background:#1a1a1a;border:1px solid #333333;border-radius:12px;padding:1.5rem;box-shadow:0 8px 32px #000c;z-index:100;pointer-events:auto}.speech-bubble.hidden{display:none}.speech-bubble h3{color:#fff;margin-bottom:.75rem;font-size:1.25rem;font-weight:500}.speech-bubble p{color:#aaa;line-height:1.6;font-size:.95rem}.bubble-mandala{margin-top:1rem;text-align:center}.bubble-mandala img{width:100px;height:100px;border-radius:50%;object-fit:cover;border:2px solid #333333}.bubble-close{position:absolute;top:.75rem;right:.75rem;width:30px;height:30px;background:#2a2a2a;border:none;color:#aaa;font-size:1.25rem;cursor:pointer;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s ease;font-weight:400}.bubble-close:hover{background:#333;color:#fff}.zoom-controls{position:absolute;bottom:20px;right:20px;display:flex;flex-direction:column;gap:8px;z-index:50}.zoom-btn{width:48px;height:48px;background:#1a1a1a;border:1px solid #333333;border-radius:50%;color:#fff;font-size:1.5rem;font-weight:300;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #00000080;transition:all .2s ease;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.zoom-btn:hover{background:#2a2a2a;box-shadow:0 6px 16px #000000b3;transform:translateY(-1px)}.zoom-btn:active{transform:scale(.95);box-shadow:0 2px 8px #00000080}.collection-modal-content{width:90%;max-width:1200px;max-height:85vh;overflow-y:auto;position:relative}.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;padding-right:2rem}.modal-header h2{font-size:1.75rem;font-weight:600;color:#fff;margin:0}.modal-close{position:absolute;top:1.5rem;right:1.5rem;width:40px;height:40px;border:none;background:#2a2a2a;border-radius:50%;font-size:1.75rem;line-height:1;color:#aaa;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.modal-close:hover{background:#333;color:#fff;transform:scale(1.1)}.collection-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1.5rem;padding:1rem 0}.collection-card{background:#1a1a1a;border:1px solid #333333;border-radius:12px;padding:1.5rem;transition:all .3s ease;cursor:pointer}.collection-card:hover{transform:translateY(-4px);box-shadow:0 8px 24px #1de9b64d;border-color:#1de9b6}.collection-card-mandala{width:100px;height:100px;border-radius:50%;object-fit:cover;margin:0 auto 1rem;display:block}.collection-card-name{font-weight:600;font-size:1.1rem;color:#fff;margin:0 0 .5rem;text-align:center}.collection-card-intimacy{font-size:.85rem;color:#888;text-align:center;margin-bottom:.75rem}.collection-card-memory{font-size:.9rem;color:#aaa;line-height:1.5;text-align:center;max-height:80px;overflow-y:auto}.collection-empty{text-align:center;padding:4rem 2rem;color:#666}.collection-empty h3{font-size:1.5rem;margin-bottom:.5rem}.collection-empty p{font-size:1rem}.narrative-text{font-style:normal;color:#ccc;font-size:1rem;margin-bottom:1.5rem;letter-spacing:.3px;line-height:1.8;font-weight:300}.modal-btn-yes{background:linear-gradient(135deg,#1de9b6,#00c896);color:#fff;box-shadow:0 4px 16px #1de9b666;transition:all .3s cubic-bezier(.4,0,.2,1)}.modal-btn-yes:hover{background:linear-gradient(135deg,#00c896,#00a67e);box-shadow:0 6px 24px #1de9b680;transform:translateY(-2px)}.nav-message{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:linear-gradient(135deg,#1a1a1afa,#141414fa);color:#fff;padding:2.5rem 3.5rem;border-radius:16px;border:1px solid rgba(255,255,255,.1);font-size:1.05rem;line-height:1.8;max-width:520px;text-align:center;z-index:2000;pointer-events:none;letter-spacing:.5px;font-weight:300;box-shadow:0 20px 60px #00000080,0 0 1px #ffffff1a inset;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}.nav-message.temporary{animation:navMessageAppear 4s cubic-bezier(.4,0,.2,1)}@keyframes navMessageAppear{0%{opacity:0;transform:translate(-50%,-50%) scale(.95)}10%{opacity:1;transform:translate(-50%,-50%) scale(1)}90%{opacity:1;transform:translate(-50%,-50%) scale(1)}to{opacity:0;transform:translate(-50%,-50%) scale(.95)}}.map-bottom-bar{display:flex;justify-content:center;padding:2rem;background:#000;border-top:1px solid rgba(255,255,255,.08);position:relative;z-index:10}.btn-add-place{padding:1.1rem 2.8rem;background:linear-gradient(135deg,#1de9b6,#00c896);color:#fff;border:none;border-radius:8px;font-size:.95rem;font-weight:500;letter-spacing:.5px;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 16px #1de9b64d,0 0 1px #ffffff1a inset;position:relative;overflow:hidden}.btn-add-place:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.1),transparent);transition:left .5s}.btn-add-place:hover:before{left:100%}.btn-add-place:hover{background:linear-gradient(135deg,#00c896,#00a67e);box-shadow:0 6px 24px #1de9b666,0 0 1px #fff3 inset;transform:translateY(-2px)}.btn-add-place:active{transform:translateY(0) scale(.98)}.modal{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000c;display:flex;justify-content:center;align-items:center;z-index:1000;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal.hidden{display:none}.modal-content{background:#1a1a1a;border:1px solid #333333;border-radius:12px;padding:2.5rem 3rem;text-align:center;min-width:400px;box-shadow:0 16px 48px #000c}.modal-content p{font-size:1.25rem;margin-bottom:2rem;color:#fff;font-weight:400;line-height:1.5}.modal-buttons{display:flex;gap:1rem;justify-content:center}.modal-btn{flex:1;padding:1rem 2rem;border:1px solid #333333;border-radius:6px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s ease;background:#1a1a1a;color:#fff}.modal-btn:hover{background:#2a2a2a;border-color:#444}.modal-btn:active{transform:scale(.98)}.modal-btn-danger{background:#f44336;color:#fff;border-color:#f44336}.modal-btn-danger:hover{background:#d32f2f;border-color:#d32f2f}.modal-btn-primary{background:#1de9b6;color:#fff;border-color:#1de9b6}.modal-btn-primary:hover{background:#00c896;border-color:#00c896}.add-place-content{min-width:500px;max-width:600px}.add-place-content-large{min-width:600px;max-width:700px;max-height:85vh;overflow-y:auto}.form-section{margin-bottom:2rem;padding-bottom:2rem;border-bottom:1px solid #333333}.form-section:last-of-type{border-bottom:none}.section-title{font-size:1.1rem;color:#fff;font-weight:500;margin-bottom:1rem;text-align:left}.modal-title{font-size:1.75rem;margin-bottom:2rem;color:#fff;font-weight:500;text-align:center}.search-results{margin-top:1.5rem;max-height:400px;overflow-y:auto}.search-results h3{font-size:1rem;color:#aaa;margin-bottom:1rem;font-weight:500;text-align:left}#search-results-list{display:flex;flex-direction:column;gap:.5rem}.search-result-item{padding:1rem 1.25rem;background:#0a0a0a;border:1px solid #333333;border-radius:6px;cursor:pointer;transition:all .2s ease;text-align:left}.search-result-item:hover{background:#1a1a1a;border-color:#1de9b6;box-shadow:0 2px 8px #1de9b64d}.search-result-item h4{font-size:1.1rem;color:#fff;font-weight:500;margin-bottom:.25rem}.search-result-item p{font-size:.9rem;color:#aaa;margin:0}.search-result-item .coords{font-size:.75rem;color:#888;margin-top:.25rem;font-family:monospace}.form-field{margin-bottom:1.5rem;text-align:left}.form-field label{display:block;margin-bottom:.5rem;color:#fff;font-weight:500;font-size:.95rem}.form-input{width:100%;padding:.875rem 1rem;background:#0a0a0a;border:1px solid #333333;border-radius:6px;color:#fff;font-size:.95rem;font-weight:400;transition:all .2s ease}.form-input:focus{outline:none;border-color:#1de9b6;background:#1a1a1a;box-shadow:0 0 0 3px #1de9b633}.form-slider{width:100%;height:6px;background:#333;border-radius:3px;outline:none;cursor:pointer}.form-slider::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:20px;height:20px;background:#1de9b6;border:2px solid #000000;border-radius:50%;cursor:pointer;box-shadow:0 2px 8px #00000080}.form-slider::-moz-range-thumb{width:20px;height:20px;background:#1de9b6;border:2px solid #000000;border-radius:50%;cursor:pointer;box-shadow:0 2px 8px #00000080}#intimacy-value{color:#1de9b6;font-weight:600;font-size:1.1rem}.emotion-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:.75rem}.emotion-btn{padding:.75rem 1rem;background:#0a0a0a;border:1px solid #333333;border-radius:6px;color:#fff;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;text-transform:capitalize}.emotion-btn:hover{background:#1a1a1a;border-color:#444}.emotion-btn.selected{background:#1de9b6;color:#fff;border-color:#1de9b6;box-shadow:0 0 0 3px #1de9b64d}.form-textarea{width:100%;padding:.875rem 1rem;background:#0a0a0a;border:1px solid #333333;border-radius:6px;color:#fff;font-size:.95rem;font-weight:400;transition:all .2s ease;resize:vertical;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Arial,sans-serif}.form-textarea:focus{outline:none;border-color:#1de9b6;background:#1a1a1a;box-shadow:0 0 0 3px #1de9b633}.loading-overlay{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000000f2;display:flex;justify-content:center;align-items:center;z-index:9999}.loading-overlay.hidden{display:none}.spinner{width:60px;height:60px;border:3px solid #333333;border-top:3px solid #1DE9B6;border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.navigation-modal-content{min-width:500px;max-width:600px}.navigation-content{margin:1.5rem 0}.nav-section{margin-bottom:1.5rem}.nav-label{display:block;margin-bottom:.5rem;font-weight:500;color:#fff}.nav-select{width:100%;padding:.75rem;border:1px solid #333333;border-radius:8px;font-size:1rem;font-family:inherit;background:#0a0a0a;color:#fff;cursor:pointer}.nav-select:focus{outline:none;border-color:#1de9b6;box-shadow:0 0 0 3px #1de9b633}.zone-info{padding:1rem;border-radius:8px;display:flex;align-items:center;gap:1rem}.zone-badge{padding:.5rem 1rem;border-radius:20px;font-weight:600;font-size:.9rem;white-space:nowrap}.zone-info.forbidden{background:#1a1a1a}.zone-info.forbidden .zone-badge{background:#555;color:#fff}.zone-info.uncomfortable{background:#1a1a1a}.zone-info.uncomfortable .zone-badge{background:#666;color:#fff}.zone-info.comfortable{background:#1a1a1a}.zone-info.comfortable .zone-badge{background:#888;color:#fff}.zone-info.welcoming{background:#1a1a1a}.zone-info.welcoming .zone-badge{background:#1de9b6;color:#fff}.zone-description{margin:0;color:#aaa;font-size:.95rem}.nav-warning{background:#1a1a1a;padding:1rem;border-radius:8px}.warning-icon{font-size:2rem;margin-bottom:.5rem}.warning-message{margin:.5rem 0;color:#aaa;line-height:1.5}.btn-alternative{margin-top:1rem;padding:.5rem 1rem;background:#1de9b6;color:#fff;border:none;border-radius:6px;cursor:pointer;font-family:inherit;font-size:.9rem}.btn-alternative:hover{background:#00c896}.route-stats{display:flex;gap:1rem;margin-top:1rem}.stat-item{flex:1;padding:1rem;background:#0a0a0a;border-radius:8px;text-align:center}.stat-label{display:block;font-size:.85rem;color:#888;margin-bottom:.5rem}.stat-value{display:block;font-size:1.2rem;font-weight:600;color:#fff}#route-preview h3{margin-top:0;margin-bottom:.5rem;font-size:1.1rem;color:#fff}@media(max-width:768px){.auth-card{min-width:90vw;padding:2rem}.auth-row{flex-direction:column}.mandala-workspace{flex-direction:column;gap:2rem}#mandala-canvas{width:min(90vw,500px);height:min(90vw,500px);max-width:500px;max-height:500px;aspect-ratio:1 / 1}.mandala-controls{width:100%;max-width:350px}.map-nav-bar,.map-bottom-bar{padding:1rem}.speech-bubble{max-width:90vw}.modal-content,.add-place-content{min-width:90vw}.navigation-modal-content{min-width:90vw;max-width:90vw;padding:2rem 1.5rem}.navigation-status-message{font-size:1.3rem;margin:3rem 0}}.hidden{display:none!important}
